<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Dashboard SMS Gudang</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial,sans-serif;background:#f4f6f8}
.container{display:flex;height:100vh}
.sidebar{width:240px;background:#0f172a;color:#fff;padding:20px}
.sidebar h2{text-align:center;margin-bottom:20px}
.sidebar a{display:block;padding:10px;color:#cbd5e1;text-decoration:none;border-radius:6px;margin-bottom:6px;cursor:pointer}
.sidebar a.active,.sidebar a:hover{background:#1e293b;color:#fff}
.content{flex:1;padding:25px;overflow:auto}
.card{background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,.05)}
input,select,button{width:100%;padding:8px;margin:6px 0}
button{background:#2563eb;color:#fff;border:none;border-radius:5px;cursor:pointer}
button:hover{background:#1d4ed8}
table{width:100%;border-collapse:collapse;margin-top:15px}
th,td{border:1px solid #ddd;padding:8px}
th{background:#f1f5f9}
</style>
</head>

<body>
<div class="container">

<div class="sidebar">
<h2>SMS GUDANG</h2>
<a class="active" onclick="showMenu('master')">ðŸ“¦ Master Barang</a>
<a onclick="showMenu('masuk')">ðŸ“¥ Barang Masuk</a>
<a onclick="showMenu('keluar')">ðŸ“¤ Barang Keluar</a>
<a onclick="showMenu('stok')">ðŸ“Š Stok Barang</a>
<a onclick="showMenu('minimum')">âš  Minimum Barang</a>
<a onclick="showMenu('riwayat')">ðŸ•“ Riwayat Transaksi</a>
</div>

<div class="content">

<!-- MASTER BARANG -->
<div id="master" class="card">
<h3>Master Barang</h3>
<input id="kodeBarang" placeholder="Kode Barang">
<input id="namaBarang" placeholder="Nama Barang">
<input id="satuanBarang" placeholder="Satuan">
<input id="minBarang" type="number" placeholder="Minimum Stok">
<button onclick="addBarang()">Simpan Barang</button>

<table id="tableBarang">
<tr><th>Kode</th><th>Nama</th><th>Satuan</th><th>Stok</th><th>Min</th></tr>
</table>
</div>

<!-- BARANG MASUK -->
<div id="masuk" class="card" style="display:none">
<h3>Barang Masuk</h3>
<select id="barangMasuk"></select>
<input id="jumlahMasuk" type="number" placeholder="Jumlah">
<button onclick="barangMasuk()">Simpan</button>
</div>

<!-- BARANG KELUAR -->
<div id="keluar" class="card" style="display:none">
<h3>Barang Keluar</h3>
<select id="barangKeluar"></select>
<input id="jumlahKeluar" type="number" placeholder="Jumlah">
<button onclick="barangKeluar()">Simpan</button>
</div>

<!-- STOK -->
<div id="stok" class="card" style="display:none">
<h3>Stok Barang</h3>
<table id="tableStok">
<tr><th>Barang</th><th>Stok</th></tr>
</table>
</div>

<!-- MINIMUM -->
<div id="minimum" class="card" style="display:none">
<h3>Minimum Barang</h3>
<table id="tableMin">
<tr><th>Barang</th><th>Stok</th><th>Minimum</th></tr>
</table>
</div>

<!-- RIWAYAT -->
<div id="riwayat" class="card" style="display:none">
<h3>Riwayat Transaksi</h3>
<table id="tableRiwayat">
<tr><th>Tanggal</th><th>Jenis</th><th>Barang</th><th>Jumlah</th></tr>
</table>
</div>

</div>
</div>

<script>
let barang = [];
let riwayat = [];

function showMenu(menu){
  ['master','masuk','keluar','stok','minimum','riwayat'].forEach(id=>{
    document.getElementById(id).style.display='none';
  });
  document.getElementById(menu).style.display='block';

  document.querySelectorAll('.sidebar a').forEach(a=>{
    a.classList.remove('active');
    if(a.getAttribute('onclick').includes(menu)) a.classList.add('active');
  });
}

function addBarang(){
  if(!kodeBarang.value||!namaBarang.value||!satuanBarang.value||!minBarang.value){
    alert("Lengkapi data barang");
    return;
  }

  barang.push({
    kode:kodeBarang.value,
    nama:namaBarang.value,
    satuan:satuanBarang.value,
    stok:0,
    min:parseInt(minBarang.value)
  });

  render();
  kodeBarang.value=namaBarang.value=satuanBarang.value=minBarang.value='';
}

function barangMasuk(){
  if(barang.length===0) return alert("Data barang kosong");
  let i=barangMasuk.selectedIndex;
  let j=parseInt(jumlahMasuk.value);
  if(!j||j<=0) return alert("Jumlah tidak valid");

  barang[i].stok+=j;
  riwayat.push(${new Date().toLocaleString()}|Masuk|${barang[i].nama}|${j});
  render();
  jumlahMasuk.value='';
}

function barangKeluar(){
  if(barang.length===0) return alert("Data barang kosong");
  let i=barangKeluar.selectedIndex;
  let j=parseInt(jumlahKeluar.value);
  if(!j||j<=0) return alert("Jumlah tidak valid");
  if(barang[i].stok<j) return alert("Stok tidak cukup");

  barang[i].stok-=j;
  riwayat.push(${new Date().toLocaleString()}|Keluar|${barang[i].nama}|${j});
  render();
  jumlahKeluar.value='';
}

function render(){
  tableBarang.innerHTML='<tr><th>Kode</th><th>Nama</th><th>Satuan</th><th>Stok</th><th>Min</th></tr>';
  tableStok.innerHTML='<tr><th>Barang</th><th>Stok</th></tr>';
  tableMin.innerHTML='<tr><th>Barang</th><th>Stok</th><th>Minimum</th></tr>';
  tableRiwayat.innerHTML='<tr><th>Tanggal</th><th>Jenis</th><th>Barang</th><th>Jumlah</th></tr>';
  barangMasuk.innerHTML='';
  barangKeluar.innerHTML='';

  barang.forEach(b=>{
    tableBarang.innerHTML+=<tr><td>${b.kode}</td><td>${b.nama}</td><td>${b.satuan}</td><td>${b.stok}</td><td>${b.min}</td></tr>;
    tableStok.innerHTML+=<tr><td>${b.nama}</td><td>${b.stok}</td></tr>;
    tableMin.innerHTML+=<tr><td>${b.nama}</td><td>${b.stok}</td><td>${b.min}</td></tr>;
    barangMasuk.innerHTML+=<option>${b.nama}</option>;
    barangKeluar.innerHTML+=<option>${b.nama}</option>;
  });

  riwayat.forEach(r=>{
    let x=r.split('|');
    tableRiwayat.innerHTML+=<tr><td>${x[0]}</td><td>${x[1]}</td><td>${x[2]}</td><td>${x[3]}</td></tr>;
  });
}
</script>

</body>
</html>
